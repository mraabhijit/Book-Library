{
    "vhosts": [
        { "name": "/" }
    ],
    "users": [
        {
        "name": "rabbit",
        "password_hash": "...",
        "hashing_algorithm": "rabbit_password_hashing_sha256",
        "tags": ["administrator"]
        }
    ],
    "permissions": [
        {
        "user": "rabbit",
        "vhost": "/",
        "configure": ".*",
        "write": ".*",
        "read": ".*"
        }
    ],
    "routing": {
        "direct_exchange": "book.events",
        "dead_letter_exchange": "book.dlx",
        "keys": {
            "created": "book.created",
            "borrowed": "book.borrowed",
            "returned": "book.returned"
        },
        "queues": {
            "created": "q.book.created",
            "borrowed": "q.book.borrowed",
            "returned": "q.book.returned",
            "created_dlq": "q.book.created.dlq"
        }
    },
    "exchanges": [
        {
            "name": "book.events",
            "vhost": "/",
            "type": "direct",
            "durable": true,
            "auto-delete": false
        },
        {
            "name": "book.dlx",
            "vhost": "/",
            "type": "direct",
            "durable": true,
            "auto-delete": false
        }
    ],
    "queues": [
        {
            "name": "q.book.created",
            "vhost": "/",
            "durable": true,
            "arguments": {
                "x-dead-letter-exchange": "book.dlx"
            }
        },
        {
            "name": "q.book.borrowed",
            "vhost": "/",
            "durable": true,
            "arguments": {}
        },
        {
            "name": "q.book.returned",
            "vhost": "/",
            "durable": true,
            "arguments": {}
        },
        {
            "name": "q.book.created.dlq",
            "vhost": "/",
            "durable": true,
            "arguments": {}
        }
    ],
    "bindings": [
        {
            "source": "book.events",
            "vhost": "/",
            "destination": "q.book.created",
            "routing_key": "book.created",
            "destination_type": "queue"
        },
        {
            "source": "book.events",
            "vhost": "/",
            "destination": "q.book.borrowed",
            "routing_key": "book.borrowed",
            "destination_type": "queue"
        },
        {
            "source": "book.events",
            "vhost": "/",
            "destination": "q.book.returned",
            "routing_key": "book.returned",
            "destination_type": "queue"
        },
        {
            "source": "book.dlx",
            "vhost": "/",
            "destination": "q.book.created.dlq",
            "routing_key": "book.created",
            "destination_type": "queue"
        }
    ]
}